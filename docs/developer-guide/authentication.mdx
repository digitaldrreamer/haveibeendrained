---
title: "Authentication"
description: "API authentication and rate limit management"
---

## Overview

The Have I Been Drained API uses User-Agent headers for authentication and rate limiting. No API keys are required for basic usage, but they're available for higher rate limits.

## User-Agent Format

### Unregistered Tier (Default)

**Rate Limit:** 10 requests/hour

No User-Agent header required, but you'll have the lowest rate limit.

```bash
curl "https://api.haveibeendrained.com/api/v1/check?address=..."
```

### Registered Tier

**Rate Limit:** 100 requests/hour

Include your app information in the User-Agent:

```bash
User-Agent: MyApp/1.0.0 (contact@example.com)
```

**Format:**
```
AppName/Version (contact@example.com)
```

**Example:**
```bash
curl "https://api.haveibeendrained.com/api/v1/check?address=..." \
  -H "User-Agent: WalletChecker/2.1.0 (dev@mycompany.com)"
```

### Enterprise Tier

**Rate Limit:** 1000+ requests/hour

Include your API key in the User-Agent or as a header:

**Option 1: User-Agent (Recommended)**
```bash
User-Agent: MyApp/1.0.0 (contact@example.com; API Key: hibd_...)
```

**Option 2: X-API-Key Header**
```bash
User-Agent: MyApp/1.0.0 (contact@example.com)
X-API-Key: hibd_...
```

**Example:**
```bash
curl "https://api.haveibeendrained.com/api/v1/check?address=..." \
  -H "User-Agent: EnterpriseApp/3.0.0 (api@company.com; API Key: hibd_abc123...)" \
  -H "X-API-Key: hibd_abc123..."
```

## Getting an API Key

<Info>
  API keys are available for enterprise tier users. Contact support@haveibeendrained.com to request an API key.
</Info>

**Requirements:**
- Legitimate use case
- Higher rate limit needs (1000+ req/hour)
- Contact information for support

**Process:**
1. Email support@haveibeendrained.com
2. Describe your use case
3. Provide contact information
4. Receive API key via email

## Rate Limit Headers

All responses include rate limit information:

```http
RateLimit-Limit: 100
RateLimit-Remaining: 95
RateLimit-Reset: 1702227600
Retry-After: 3600
```

**Headers:**
- `RateLimit-Limit` - Maximum requests per window
- `RateLimit-Remaining` - Requests remaining in current window
- `RateLimit-Reset` - Unix timestamp when limit resets
- `Retry-After` - Seconds until limit resets (when exceeded)

## Rate Limit Exceeded

When rate limit is exceeded:

**Status Code:** `429 Too Many Requests`

**Response:**
```json
{
  "success": false,
  "error": "Rate limit exceeded",
  "message": "You have exceeded the rate limit for this endpoint. Please try again later.",
  "retryAfter": 3600,
  "timestamp": 1702224000000
}
```

**Handling:**
- Check `Retry-After` header for wait time
- Implement exponential backoff
- Consider upgrading to enterprise tier
- Use cached responses when possible

## Best Practices

### User-Agent Formatting

✅ **Good:**
```
MyApp/1.0.0 (contact@example.com)
WalletChecker/2.1.0 (dev@mycompany.com)
```

❌ **Bad:**
```
MyApp (missing version)
MyApp/1.0.0 (missing contact)
```

### Rate Limit Management

1. **Monitor headers** - Track remaining requests
2. **Implement caching** - Cache responses when possible
3. **Use exponential backoff** - When rate limited
4. **Request appropriate tier** - Match your usage needs

### Security

<Warning>
  Never expose API keys in client-side code. Use server-side proxies for web applications.
</Warning>

- **Server-side only** - Keep API keys on your backend
- **Environment variables** - Store keys securely
- **Rotate keys** - Change keys if compromised
- **Monitor usage** - Watch for unusual activity

## Code Examples

### JavaScript/Node.js

```javascript
const response = await fetch(
  'https://api.haveibeendrained.com/api/v1/check?address=...',
  {
    headers: {
      'User-Agent': 'MyApp/1.0.0 (contact@example.com)',
      'X-API-Key': 'hibd_...' // Optional for enterprise
    }
  }
);

const rateLimitRemaining = response.headers.get('RateLimit-Remaining');
console.log(`Remaining requests: ${rateLimitRemaining}`);
```

### Python

```python
import requests

headers = {
    'User-Agent': 'MyApp/1.0.0 (contact@example.com)',
    'X-API-Key': 'hibd_...'  # Optional for enterprise
}

response = requests.get(
    'https://api.haveibeendrained.com/api/v1/check',
    params={'address': '...'},
    headers=headers
)

rate_limit_remaining = response.headers.get('RateLimit-Remaining')
print(f"Remaining requests: {rate_limit_remaining}")
```

### cURL

```bash
curl "https://api.haveibeendrained.com/api/v1/check?address=..." \
  -H "User-Agent: MyApp/1.0.0 (contact@example.com)" \
  -H "X-API-Key: hibd_..." \
  -v  # -v shows response headers
```

## Troubleshooting

<AccordionGroup>
  <Accordion title="Rate limit too low">

    - Upgrade to registered tier (add User-Agent)
    - Request enterprise tier API key
    - Implement response caching
    - Optimize request frequency

  </Accordion>

  <Accordion title="API key not working">

    - Verify key format (starts with `hibd_`)
    - Check User-Agent format
    - Ensure key is included in header
    - Contact support if issues persist

  </Accordion>

  <Accordion title="Authentication errors">

    - Verify User-Agent format
    - Check API key validity
    - Ensure headers are set correctly
    - Review error message details

  </Accordion>
</AccordionGroup>

